# Encryption-Code <img src="https://img.shields.io/badge/-Python-F9DC3E.svg?logo=python&style=flat">
##  本プロジェクトの目的
鍵更新型暗号の仕組みを学び、Python による実装を⾏う。実装を⾏った署名⽅式は、Abdalla-Reyzin署名・Forward-Secure署名・Key-Insulated署名の3種類である。実装した署名のプログラムは、鍵⽣成・署名⽣成・署名検証・鍵更新に分けて実⾏時間の計測を⾏い、性能の評価をする。さらに、プログラムの改善点も検討する。次に、本プロジェクトでの成果を説明する。実装では、Abdalla-Reyzin 署名・Forward-Secure署名・Key-Insulated署名を実現できた。しかし、Key-Insulated署名の鍵更新は実現することができなかった。この原因は、鍵更新に伴う安全な環境の秘密鍵の引き継ぎが実装できなったことにある。安全な環境の秘密鍵 𝑆𝐾∗をグローバル変数によってこれを解決しようとしたが、安全性が保証れないため断念した。また、各署名⽅式における素数⽣成の⽅法だが、Abdalla-Reyzin 署名・Forward-Secure 署名では、フェルマーの⼩定理、Key-Insulated署名ではミラーラビン素数判定⽅式を採⽤している。

各プログラムでは、鍵生成・署名生成・署名検証・鍵更新に分けて実行時間の計測を20回行い、各実行時間の平均・標準偏差を求めた。計測では、シェルスクリプトの出力結果を作成したログファイルに出力し、データの集計を行った。
Forward-Secure署名における実行時間の標準偏差のある値 p において、
-6 ≤ 〖log〗_10 p < -5
であったため、計測結果における有効数字は6桁である。

次にAbdalla-Reyzin署名・Forward-Secure署名・Key-Insulated署名それぞれの計測結果を示す。

## A. Abdalla-Reyzin署名
鍵生成・署名生成・署名検証、プログラムの実行時間それぞれの計測を行った。以下の表にこれらの計測結果及び、平均と標準偏差を示す。 

<img width="311" alt="image" src="https://github.com/user-attachments/assets/127b5471-1197-457d-9551-0082288fe5df" />
 
表より鍵生成、署名生成、署名検証における標準偏差から、これら実行時間のデータの散らばりは非常に小さいことがわかる。しかし、全体の実行時間の標準偏差は9.71584sと平均値からの散らばりが大きいことがわかる。    


## B. Forward-Secure署名
鍵生成・署名生成・署名検証、それぞれの計測を行った。以下の表にこれらの計測結果及び、平均と標準偏差を示す。  

<img width="302" alt="image" src="https://github.com/user-attachments/assets/bb648583-81d0-4a7d-bd6a-46028ce29de7" />  

表より、鍵生成・署名生成・署名検証の実行時間には大きな差はないといっていいだろう。  

ここで、1~20回の各プログラムの実行において5回鍵更新を行なっているため、鍵更新に要した実行時間を以下の表に示す。  

<img width="513" alt="image" src="https://github.com/user-attachments/assets/8ccf42a8-8631-4970-b873-a357a46e39bf" />

表より、20回の各実行における、5回の鍵更新の実行時間の標準偏差をみると、データの平均からのばらつきは非常に小さいといえる。  
ここで、20回の実行の1回目から5回目の鍵更新のデータの特徴を、少々煩雑ではあるが以下の図に示す。    
  
<img width="427" alt="image" src="https://github.com/user-attachments/assets/45f7a2f4-2ea3-4d73-84a4-032fa56e15ad" />   

図より、1~5回目それぞれにおける鍵更新の実行時間は、プログラムの実行回数と相関があることがわかる。    

## C. Key-Insulated署名
鍵生成・署名生成・署名検証、それぞれの計測を行った。表にこれらの計測結果及び、平均と標準偏差を示す。  

<img width="302" alt="image" src="https://github.com/user-attachments/assets/8b860fa8-d31c-4301-943d-66301eecc8c5" /> 

表より、署名生成と署名検証における標準偏差は非常に小さいことがわかる。また鍵生成の標準偏差の値が大きいことがわかる。  

## 考察
Abdalla-Reyzin署名・Forward-Secure署名・Key-Insulated署名を実現した。Abdalla-Reyzin署名・Forward-Secure署名では、鍵生成・署名生成・署名検証における実行時間の標準偏差が非常に小さいことがわかった。また、Forward-Secure署名における鍵更新はプログラムの実行回数と相関があることがわかった。さらに、1~5回の鍵更新の実行時間の標準偏差が非常に小さいことと、実行回数ごとに鍵更新の実行時間が異なることを考えると、これは、変数へのメモリアクセス時間によるものであると考える。プログラム一回の実行が終わる毎にメモリが解放される。そのため、プログラム実行時のコンピュータのプロセスの実行状況により、鍵更新に要する実行時間が変化すると考える。
またKey-Insulated署名において、鍵生成の標準偏差の値が大きいのは、Key-Insulated署名の鍵生成プログラムが素数生成を行う関数を含んでいるためである。

## 結果
本プロジェクトでは、鍵更新型暗号の仕組みを学び、Abdalla-Reyzin署名・Forward-Secure署名・Key-Insulated署名の,実装を行った。さらに、実装した署名方式のプログラムの実行時間を計測した。各署名における、鍵生成・署名生成・署名検証の実行時間の標準偏差、すなわち平均実行時間からの散らばり具合は非常に小さいことがわかった。しかし、Key-Insulated署名における標準偏差の値が大きいのは、素数生成に時間を要していることを考察した。また、Forward-Secure署名における鍵更新とプログラムの実行回数との相関関係は、プログラム実行時のコンピュータのプロセスの実行状況に依る、メモリアクセス時間に起因するものであることを考察した。

